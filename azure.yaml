# yaml-language-server: $schema=https://raw.githubusercontent.com/Azure/azure-dev/main/schemas/v1.0/azure.yaml.json

name: ai-document-review
metadata:
  template: ai-document-review@1.0.0
infra:
  provider: terraform
services:
  app:
    project: app/api
    host: appservice
    language: python
    dist: ../dist
    hooks:
      prepackage:
        # Build the UI code into the API's www directory.
        - shell: sh
          run: 'task app-build-ui'
        - shell: sh
          # Replace symlink with actual files so azd package works
          run: rsync . ../dist -a --copy-links -v --exclude .venv
  # Add when flows appservice PR is merged
  # flows:
  #   project: flows
  #   host: appservice
  #   language: python
